{"entries":[{"timestamp":1732815980798,"editorVersion":"7.0.51","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" id=\"uvXnC.%ZYFcO_(wGqaI0\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\" id=\")hQ|5`bgIq$d?D(hSC]-\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"class Board {\" line1=\"    public isKarelActive: boolean;\" line2=\"    public karelX: number;\" line3=\"    public karelY: number;\" line4=\"\" line5=\"    public ledState: Image;\" line6=\"    private karelDirection: Direction;\" line7=\"\" line8=\"    constructor() {\" line9=\"        this.isKarelActive = true;\" line10=\"        this.karelX = 2;\" line11=\"        this.karelY = 2;\" line12=\"        this.karelDirection = Direction.UP;\" line13=\"        this.ledState = images.createImage(`\" line14=\"            . . . . .\" line15=\"            . . . . .\" line16=\"            . . . . .\" line17=\"            . . . . .\" line18=\"            . . . . .\" line19=\"            `);\" line20=\"    }\" line21=\"\" line22=\"    pressedA() {\" line23=\"        if (!this.isKarelActive) {\" line24=\"            return;\" line25=\"        }\" line26=\"        this.karelDirection = (this.karelDirection + 1) % 4;\" line27=\"    }\" line28=\"\" line29=\"    pressedB() {\" line30=\"        if (!this.isKarelActive) {\" line31=\"            return;\" line32=\"        }\" line33=\"        this.ledState.setPixel(this.karelX, this.karelY, true);\" line34=\"        this.moveKarel()\" line35=\"    }\" line36=\"\" line37=\"    shake() {\" line38=\"        if (!this.isKarelActive) {\" line39=\"            return;\" line40=\"        }\" line41=\"        this.moveKarel()\" line42=\"    }\" line43=\"\" line44=\"    private moveKarel() {\" line45=\"        if (!this.isKarelActive) {\" line46=\"            return;\" line47=\"        }\" line48=\"        switch (this.karelDirection) {\" line49=\"            case Direction.UP:\" line50=\"                if (this.karelY &gt; 0) {\" line51=\"                    this.karelY -= 1;\" line52=\"                }\" line53=\"                break;\" line54=\"            case Direction.LEFT:\" line55=\"                if (this.karelX &gt; 0) {\" line56=\"                    this.karelX -= 1;\" line57=\"                }\" line58=\"                break;\" line59=\"            case Direction.DOWN:\" line60=\"                if (this.karelY &lt; 4) {\" line61=\"                    this.karelY += 1;\" line62=\"                }\" line63=\"                break;\" line64=\"            case Direction.RIGHT:\" line65=\"                if (this.karelX &lt; 4) {\" line66=\"                    this.karelX += 1;\" line67=\"                }\" line68=\"                break;\" line69=\"        }\" line70=\"    }\" line71=\"\" line72=\"    pressedAB() {\" line73=\"        this.isKarelActive = !this.isKarelActive;\" line74=\"    }\" line75=\"\" line76=\"    update() {\" line77=\"        this.ledState.showImage(0);\" line78=\"    }\" line79=\"}\" numlines=\"80\"></mutation><next><block type=\"typescript_statement\" id=\"X)ns5d9Yq{3G+rbD$PTr\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"const board = new Board();\" numlines=\"1\" declaredvars=\"board\"></mutation><next><block type=\"typescript_statement\" id=\"6_Z?hVT5)!T|jKc[^OwG\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"enum Direction {\" line1=\"    UP = 0,\" line2=\"    LEFT,\" line3=\"    DOWN,\" line4=\"    RIGHT\" line5=\"}\" numlines=\"6\"></mutation></block></next></block></next></block></statement></block><block type=\"device_button_event\" id=\"uJa[ULP6i;y/q0),L%Ex\" x=\"682\" y=\"0\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"typescript_statement\" id=\"ah:8:@NlBw!)yqGA5Cf}\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.pressedB();\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\" id=\"fsycxX@RPR{:GP4C#x|+\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.update();\" numlines=\"1\"></mutation></block></next></block></statement></block><block type=\"device_button_event\" id=\"w9-9gpLz.0)k#z0`Su%k\" x=\"958\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"typescript_statement\" id=\"s1wj=:+*nR,t*RY4|s0A\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.pressedA();\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\" id=\"vHPGW3Yb6li+@;?)Z76z\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.update();\" numlines=\"1\"></mutation></block></next></block></statement></block><block type=\"device_button_event\" id=\"gq6)Bf3o-Bb)jdcL]/LL\" x=\"1234\" y=\"0\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"typescript_statement\" id=\":2OB]?TE:!P%]5qNTzOy\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.pressedAB();\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\" id=\"YBsd.%u@bLDzL2Voiq_n\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.update();\" numlines=\"1\"></mutation></block></next></block></statement></block><block type=\"device_forever\" id=\"$B$tH+d84TC^_]p2t~mN\" x=\"1530\" y=\"0\"><statement name=\"HANDLER\"><block type=\"controls_if\" id=\"cWa_)tPO(PehqgKMv5];\"><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"-YU,kp?_wa5T.D/)N@cg\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"typescript_expression\" id=\"9RT53zNjFk^_,RTM]/oV\"><field name=\"EXPRESSION\">board.isKarelActive</field></block></value><statement name=\"DO0\"><block type=\"device_led_toggle\" id=\"eyI0brD~VoJJ1c[Y3QxX\"><value name=\"x\"><shadow type=\"math_number_minmax\" id=\"nyf6swT,Rw7cPKR}JEuu\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"typescript_expression\" id=\"-,ig6%.mEYvb}xIh:PIx\"><field name=\"EXPRESSION\">board.karelX</field></block></value><value name=\"y\"><shadow type=\"math_number_minmax\" id=\"uFWyu%cJhQV_lY|AV5F1\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"typescript_expression\" id=\"{vuw?3[@|eUK?[+T-mNW\"><field name=\"EXPRESSION\">board.karelY</field></block></value><next><block type=\"device_pause\" id=\"@cXd7F_NYSlQUU*?]4(|\"><value name=\"pause\"><shadow type=\"timePicker\" id=\"eUsg,wrlkc^~Va/hmydl\"><field name=\"ms\">500</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"device_gesture_event\" id=\"/dp/S@Pa:4WB@BU1CzFI\" x=\"2006\" y=\"0\"><field name=\"NAME\">Gesture.Shake</field><statement name=\"HANDLER\"><block type=\"typescript_statement\" id=\"sjDW91KV!fo%e9G3!ENa\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.shake();\" numlines=\"1\"></mutation><next><block type=\"typescript_statement\" id=\"$N=OAQe_rz%ImM^Fsq,g\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"board.update();\" numlines=\"1\"></mutation></block></next></block></statement></block>"],[1,"://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n"],[0,"</xm"]],"start1":12,"start2":12,"length1":6624,"length2":113}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"input.onButtonPressed(Button.A, function () {\n    board.pressedA();\nboard.update();\n})\ninput.onButtonPressed(Button.AB, function () {\n    board.pressedAB();\nboard.update();\n})\ninput.onButtonPressed(Button.B, function () {\n    board.pressedB();\nboard.update();\n})\ninput.onGesture(Gesture.Shake, function () {\n    board.shake();\nboard.update();\n})\nclass Board {\n    public isKarelActive: boolean;\n    public karelX: number;\n    public karelY: number;\n\n    public ledState: Image;\n    private karelDirection: Direction;\n\n    constructor() {\n        this.isKarelActive = true;\n        this.karelX = 2;\n        this.karelY = 2;\n        this.karelDirection = Direction.UP;\n        this.ledState = images.createImage(`\n            . . . . .\n            . . . . .\n            . . . . .\n            . . . . .\n            . . . . .\n            `);\n    }\n\n    pressedA() {\n        if (!this.isKarelActive) {\n            return;\n        }\n        this.karelDirection = (this.karelDirection + 1) % 4;\n    }\n\n    pressedB() {\n        if (!this.isKarelActive) {\n            return;\n        }\n        this.ledState.setPixel(this.karelX, this.karelY, true);\n        this.moveKarel()\n    }\n\n    shake() {\n        if (!this.isKarelActive) {\n            return;\n        }\n        this.moveKarel()\n    }\n\n    private moveKarel() {\n        if (!this.isKarelActive) {\n            return;\n        }\n        switch (this.karelDirection) {\n            case Direction.UP:\n                if (this.karelY > 0) {\n                    this.karelY -= 1;\n                }\n                break;\n            case Direction.LEFT:\n                if (this.karelX > 0) {\n                    this.karelX -= 1;\n                }\n                break;\n            case Direction.DOWN:\n                if (this.karelY < 4) {\n                    this.karelY += 1;\n                }\n                break;\n            case Direction.RIGHT:\n                if (this.karelX < 4) {\n                    this.karelX += 1;\n                }\n                break;\n        }\n    }\n\n    pressedAB() {\n        this.isKarelActive = !this.isKarelActive;\n    }\n\n    update() {\n        this.ledState.showImage(0);\n    }\n}\nconst board = new Board();\nenum Direction {\n    UP = 0,\n    LEFT,\n    DOWN,\n    RIGHT\n}\nbasic.forever(function () {\n    if (board.isKarelActive) {\n        led.toggle(board.karelX, board.karelY)\n        basic.pause(500)\n    }\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":2396,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"   \""],[-1,"testFiles\": [\n        \"test.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\""],[1,"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":227,"start2":227,"length1":80,"length2":31}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1732815980797,"editorVersion":"7.0.51","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"ggg\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1732816107106}